

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="scala" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="scala" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dualip: Dual Decomposition based Linear Program Solver Documentation &mdash; DuaLip 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Dualip Solver" href="solver/index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> DuaLip
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="solver/index.html">The Dualip Solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces/index.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo/index.html">Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing/index.html">Citing Dualip</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing/index.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgement/index.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">DuaLip</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Dualip: Dual Decomposition based Linear Program Solver Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dualip-dual-decomposition-based-linear-program-solver-documentation">
<h1>Dualip: Dual Decomposition based Linear Program Solver Documentation<a class="headerlink" href="#dualip-dual-decomposition-based-linear-program-solver-documentation" title="Permalink to this headline">¶</a></h1>
<p>DuaLiP is an extreme-scale Linear Program (LP) solver based on Apache Spark. It solves structured LP problems of the following form arising from web-applications:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{ll}
  \mbox{minimize} &amp; c^T x \\
  \mbox{subject to} &amp; Ax \leq b \\
  &amp;x_i \in \mathcal{C}_i \;\;\text{for all} ~i\in \{1,2,...,I\}
\end{array}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(x = (x_1, ..., x_I)\)</span> is the full vector of optimization variables, <span class="math notranslate nohighlight">\(x_i\)</span> is the vector of optimization
variables associated with one <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(A,b,c\)</span> and <span class="math notranslate nohighlight">\(C_i\)</span> are user-supplied data.</p>
<p>It is a distributed solver that solves a perturbation of the LP problem at scale via gradient-based algorithms on the smooth dual of the perturbed LP with computational guarantees. Dualip can easily scale to problems in trillions of variables.</p>
<p>This library was created by <a class="reference external" href="https://www.linkedin.com/in/panyaopy/">Yao Pan</a>, <a class="reference external" href="https://www.linkedin.com/in/kinjalbasu/">Kinjal Basu</a>, <a class="reference external" href="https://www.linkedin.com/in/rohanramanath/">Rohan Ramanath</a>, <a class="reference external" href="https://www.linkedin.com/in/ksalomatin/">Konstantin Salomatin</a>, <a class="reference external" href="https://www.linkedin.com/in/amolghoting/">Amol Ghoting</a>, and <a class="reference external" href="https://www.linkedin.com/in/sathiya-keerthi-selvaraj-ba963414/">Sathiya Keerthi</a> from LinkedIn.</p>
<p><strong>Code available on</strong> <a class="reference external" href="https://github.com/linkedin/dualip">GitHub</a>.</p>
<div class="section" id="citing-dualip">
<h2>Citing Dualip<a class="headerlink" href="#citing-dualip" title="Permalink to this headline">¶</a></h2>
<p>If you are using Dualip for your work, we encourage you to</p>
<ul class="simple">
<li><a class="reference internal" href="citing/index.html#citing"><span class="std std-ref">Cite the related papers</span></a></li>
<li>Put a star on GitHub <a class="reference external" href="https://github.com/linkedin/dualip"><img alt="github-star" src="https://img.shields.io/github/stars/oxfordcontrol/osqp.svg?style=social&amp;label=Star" /></a></li>
</ul>
<p><strong>We are looking forward to hearing your success stories with Dualip!</strong> Please <a class="reference external" href="mailto:dualip&#37;&#52;&#48;linkedin&#46;com">share them with us</a>.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
</dl>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Extreme Scale</dt>
<dd><p class="first last">Dualip is specifically developed to tackle problems arising in web-applications that usually have hundreds of millions of users and millions of items, pushing the number of optimization variables in the trillions range (if not more). It uses a dual decomposition technique to be able to scale to such large problems. For details see the <a class="reference internal" href="solver/index.html#probsolution"><span class="std std-ref">solution</span></a> and for a wide range of applications see <a class="reference external" href="https://arxiv.org/abs/2103.05277">Ramanath et. al. (2021)</a> and <a class="reference external" href="http://proceedings.mlr.press/v119/basu20a/basu20a.pdf">Basu et. al (2020)</a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Efficient</dt>
<dd><p class="first last">Although we follow first-order gradient methods to solve the problem, we implement several highly efficient algorithms for each of the component steps. See the <a class="reference internal" href="solver/index.html#solver"><span class="std std-ref">solver</span></a> for more details. This allows us to scale up 20x over a naive implementation. Please see <a class="reference external" href="https://arxiv.org/abs/2103.05277">Ramanath et. al. (2021)</a> for a comparative study.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Modular Design</dt>
<dd><p class="first">In our implementation, any problem can be formulated through a highly modular approach.</p>
<blockquote>
<div><ul class="simple">
<li><strong>solver</strong>: We begin by choosing a first-order optimization solver. We currently support <a class="reference external" href="https://en.wikipedia.org/wiki/Proximal_gradient_method">Proximal Gradient Ascent</a>, <a class="reference external" href="https://www.ceremade.dauphine.fr/~carlier/FISTA">Accelerated Gradient Ascent</a>, and <a class="reference external" href="https://en.wikipedia.org/wiki/Limited-memory_BFGS">LBFGS-B</a></li>
<li><strong>projectionType</strong>: We implement several very efficient projection algorithms to allow for a wide class of constraint sets <span class="math notranslate nohighlight">\(\mathcal{C}_i\)</span>. For a list of supported constraints sets see <a class="reference internal" href="solver/index.html#constraints"><span class="std std-ref">here</span></a>.</li>
</ul>
</div></blockquote>
<p class="last">Each of these components is highly flexible and can be easily customized to add new solvers, or new types of projections for different constraints sets <span class="math notranslate nohighlight">\(\mathcal{C}_i\)</span>. New formulations can also be added by appropriately stitching together these different components.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Detects Infeasibility</dt>
<dd><p class="first last">We have incorporated simple checks on infeasibility (see Appendix D of <a class="reference external" href="https://arxiv.org/abs/2103.05277">our paper</a>). This helps the end user to appropriately tweak the problem space.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Extensive Logging</dt>
<dd><p class="first last">We have added extensive logging to help users understand whether the solver has converged to a good approximate solution. For more details, please see <a class="reference internal" href="interfaces/logging.html#logging"><span class="std std-ref">here</span></a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Warm start</dt>
<dd><p class="first last">We allow the user to input an initial estimate of the dual solution, if she is familiar with the problem space. This allows for very efficient solving of the overall problem.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Autotuning</dt>
<dd><p class="first last">We have implemented an autotuning mechanism, that automatically selects and adaptively changes the smoothness parameter to achieve faster convergence. In most situations, users may not know how to choose a value for this parameter and we alleviate this issue completely.</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="building-the-library">
<h3>Building the Library<a class="headerlink" href="#building-the-library" title="Permalink to this headline">¶</a></h3>
<p>It is recommended to use Scala 2.11.8 and Spark 2.3.0. To build, run the following:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">gradlew</span> <span class="n">build</span>
</pre></div>
</div>
<p>This will produce a JAR file in the <code class="code docutils literal notranslate"><span class="pre">./dualip/build/libs/</span></code> directory.
If you want to use the library with Spark 2.4 (and the Scala 2.11.8 default), you can specify this when running the build command.</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">gradlew</span> <span class="n">build</span> <span class="o">-</span><span class="n">PsparkVersion</span><span class="o">=</span><span class="mf">2.4</span><span class="o">.</span><span class="mi">3</span>
</pre></div>
</div>
<p>Tests typically run with the <code class="code docutils literal notranslate"><span class="pre">test</span></code> task. If you want to force-run all tests, you can use:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">gradlew</span> <span class="n">cleanTest</span> <span class="n">test</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">cache</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-jar-file">
<h3>Using the JAR File<a class="headerlink" href="#using-the-jar-file" title="Permalink to this headline">¶</a></h3>
<p>Depending on the mode of usage, the built JAR can be deployed as part of an offline data pipeline, depended
upon to build jobs using its APIs, or added to the classpath of a Spark Jupyter notebook or a Spark Shell instance. For example:</p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span>$SPARK_HOME/bin/spark-shell --jars target/dualip_2.11.jar
</pre></div>
</div>
</div>
</div>
<div class="section" id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>Copyright 2021 LinkedIn Corporation All Rights Reserved.
Licensed under the BSD 2-Clause License (the &quot;License&quot;). See License in the project root for license information.</p>
</div>
<div class="section" id="contributions">
<h2>Contributions<a class="headerlink" href="#contributions" title="Permalink to this headline">¶</a></h2>
<p>If you would like to contribute to this project, please review the instructions <a class="reference internal" href="#contributions"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="bug-reports-and-support">
<h2>Bug reports and support<a class="headerlink" href="#bug-reports-and-support" title="Permalink to this headline">¶</a></h2>
<p>Please report any issues via the <a class="reference external" href="https://github.com/linkedin/dualip/issues">Github issue tracker</a>. All types of issues are welcome including bug reports, documentation typos, feature requests and so on.</p>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>Implementations of some methods in DuaLip were inspired by other open-source libraries. Discussions with several LinkedIn employees influenced aspects of this library. A full list of acknowledgements can be found <a class="reference internal" href="acknowledgement/index.html#acknowledgements"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>DuaLip has been created on the basis of the following research paper. If you cite DuaLip, please use the following:</p>
<blockquote>
<div><div class="code latex highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@inproceedings</span><span class="p">{</span><span class="n">ramanath</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span>
  <span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">Ramanath</span><span class="p">,</span> <span class="n">Rohan</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Keerthi</span><span class="p">,</span> <span class="n">Sathiya</span> <span class="n">S</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Basu</span><span class="p">,</span> <span class="n">Kinjal</span> <span class="ow">and</span> <span class="n">Salomatin</span><span class="p">,</span> <span class="n">Konstantin</span> <span class="ow">and</span> <span class="n">Yao</span><span class="p">,</span> <span class="n">Pan</span><span class="p">},</span>
  <span class="n">title</span>        <span class="o">=</span> <span class="p">{</span><span class="n">Efficient</span> <span class="n">Algorithms</span> <span class="k">for</span> <span class="n">Global</span> <span class="n">Inference</span> <span class="ow">in</span> <span class="n">Internet</span> <span class="n">Marketplaces</span><span class="p">},</span>
  <span class="n">journal</span>      <span class="o">=</span> <span class="p">{</span><span class="n">arXiv</span> <span class="n">preprint</span> <span class="n">arXiv</span><span class="p">:</span><span class="mf">2103.05277</span><span class="p">},</span>
  <span class="n">year</span>         <span class="o">=</span> <span class="p">{</span><span class="mi">2021</span><span class="p">},</span>
  <span class="n">url</span>          <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">arxiv</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="mf">2103.05277</span><span class="p">}</span>
  <span class="p">}</span>


<span class="nd">@InProceedings</span><span class="p">{</span><span class="n">pmlr</span><span class="o">-</span><span class="n">v119</span><span class="o">-</span><span class="n">basu20a</span><span class="p">,</span>
  <span class="n">title</span>      <span class="o">=</span> <span class="p">{{</span><span class="n">ECLIPSE</span><span class="p">}:</span> <span class="n">An</span> <span class="n">Extreme</span><span class="o">-</span><span class="n">Scale</span> <span class="n">Linear</span> <span class="n">Program</span> <span class="n">Solver</span> <span class="k">for</span> <span class="n">Web</span><span class="o">-</span><span class="n">Applications</span><span class="p">},</span>
  <span class="n">author</span>     <span class="o">=</span> <span class="p">{</span><span class="n">Basu</span><span class="p">,</span> <span class="n">Kinjal</span> <span class="ow">and</span> <span class="n">Ghoting</span><span class="p">,</span> <span class="n">Amol</span> <span class="ow">and</span> <span class="n">Mazumder</span><span class="p">,</span> <span class="n">Rahul</span> <span class="ow">and</span> <span class="n">Pan</span><span class="p">,</span> <span class="n">Yao</span><span class="p">},</span>
  <span class="n">booktitle</span>  <span class="o">=</span> <span class="p">{</span><span class="n">Proceedings</span> <span class="n">of</span> <span class="n">the</span> <span class="mi">37</span><span class="n">th</span> <span class="n">International</span> <span class="n">Conference</span> <span class="n">on</span> <span class="n">Machine</span> <span class="n">Learning</span><span class="p">},</span>
  <span class="n">pages</span>      <span class="o">=</span> <span class="p">{</span><span class="mi">704</span><span class="o">--</span><span class="mi">714</span><span class="p">},</span>
  <span class="n">year</span>       <span class="o">=</span> <span class="p">{</span><span class="mi">2020</span><span class="p">},</span>
  <span class="n">volume</span>     <span class="o">=</span> <span class="p">{</span><span class="mi">119</span><span class="p">},</span>
  <span class="n">series</span>     <span class="o">=</span> <span class="p">{</span><span class="n">Proceedings</span> <span class="n">of</span> <span class="n">Machine</span> <span class="n">Learning</span> <span class="n">Research</span><span class="p">},</span>
  <span class="n">month</span>      <span class="o">=</span> <span class="p">{</span><span class="mi">13</span><span class="o">--</span><span class="mi">18</span> <span class="n">Jul</span><span class="p">},</span>
  <span class="n">publisher</span>  <span class="o">=</span> <span class="p">{</span><span class="n">PMLR</span><span class="p">},</span>
  <span class="n">pdf</span>        <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proceedings</span><span class="o">.</span><span class="n">mlr</span><span class="o">.</span><span class="n">press</span><span class="o">/</span><span class="n">v119</span><span class="o">/</span><span class="n">basu20a</span><span class="o">/</span><span class="n">basu20a</span><span class="o">.</span><span class="n">pdf</span><span class="p">},</span>
  <span class="n">url</span>        <span class="o">=</span> <span class="p">{</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proceedings</span><span class="o">.</span><span class="n">mlr</span><span class="o">.</span><span class="n">press</span><span class="o">/</span><span class="n">v119</span><span class="o">/</span><span class="n">basu20a</span><span class="o">.</span><span class="n">html</span><span class="p">}</span>
<span class="p">}</span>

<span class="nd">@misc</span><span class="p">{</span><span class="n">dualip</span><span class="p">,</span>
  <span class="n">author</span>       <span class="o">=</span> <span class="p">{</span><span class="n">Ramanath</span><span class="p">,</span> <span class="n">Rohan</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Keerthi</span><span class="p">,</span> <span class="n">Sathiya</span> <span class="n">S</span><span class="o">.</span> <span class="ow">and</span> <span class="n">Basu</span><span class="p">,</span> <span class="n">Kinjal</span> <span class="ow">and</span> <span class="n">Salomatin</span><span class="p">,</span> <span class="n">Konstantin</span> <span class="ow">and</span> <span class="n">Yao</span><span class="p">,</span> <span class="n">Pan</span> <span class="ow">and</span> <span class="n">Ghoting</span><span class="p">,</span> <span class="n">Amol</span><span class="p">},</span>
  <span class="n">title</span>        <span class="o">=</span> <span class="p">{{</span><span class="n">DuaLip</span><span class="p">}:</span> <span class="n">Dual</span> <span class="n">Decomposition</span> <span class="n">based</span> <span class="n">Linear</span> <span class="n">Program</span> <span class="n">Solver</span><span class="p">,</span> <span class="n">version</span> <span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span><span class="p">},</span>
  <span class="n">url</span>          <span class="o">=</span> <span class="p">{</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">linkedin</span><span class="o">/</span><span class="n">dualip</span><span class="p">},</span>
  <span class="n">month</span>        <span class="o">=</span> <span class="n">mar</span><span class="p">,</span>
  <span class="n">year</span>         <span class="o">=</span> <span class="mi">2021</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="solver/index.html" class="btn btn-neutral float-right" title="The Dualip Solver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, LinkedIn

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>